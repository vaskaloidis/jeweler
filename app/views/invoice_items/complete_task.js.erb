if ($("#success_message").is(':visible')) {
    $("#success_message").html('');
    $("#success_message").hide('slide');
}

if ($("#error_message").is(':visible')) {
    $("#error_message").html('');
    $("#error_message").hide('slide');
}

<% if @task.valid? %>

$("#invoice_panel_<%= @invoice.id.to_s %>_container").html('<%= j render 'invoices/invoice_panel', invoice: @invoice %>');
  <% if @invoice.sprint_complete? %>
    $("#success_message").html('Sprint Complete!');
  <% else %>
  $("#success_message").html('Task Completed.');
  <% end %>

  $("#success_message").show('slide');

<% else %>

  $("#error_message").show('slide');
  $("#error_message").html('Your Task Could Not Be Completed');

<% end %>